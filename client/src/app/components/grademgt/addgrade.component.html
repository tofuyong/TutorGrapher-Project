<div *ngIf="student" class="container">
    <h3><b>Add grade for {{ student.firstName}} {{ student.lastName }}</b></h3>
    <br>

    <form [formGroup]="gradeForm" (ngSubmit)="submitGradeForm()" fxLayout="column" fxLayoutGap="16px">
        <div class="row" fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="10px">
            <div fxFlex="50%">
                <mat-form-field appearance="outline" fxFlex="100%">
                    <mat-label>Subject: </mat-label>
                    <input matInput type="text" formControlName="subject" placeholder="Subject">
                    <mat-error *ngIf="hasError('subject')">Subject is mandatory</mat-error>
                </mat-form-field>
            </div>
            <div fxFlex="50%">
                <mat-form-field appearance="outline" fxFlex="100%">
                    <mat-label>Date of Assessment: </mat-label>
                    <input matInput [matDatepicker]="picker" formControlName="date" placeholder="Date">
                    <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                    <mat-error *ngIf="hasError('date')">Date of assessment cannot be before 2020</mat-error>
                </mat-form-field>
            </div>
        </div>

        <br>
        <div class="row" fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="10px">
            <div fxFlex="50%">
                <mat-form-field appearance="outline" fxFlex="100%">
                    <mat-label>Score:</mat-label>
                    <input matInput type="number" formControlName="score">
                    <mat-error *ngIf="hasError('score')">Input a positive integer or score ending with .5</mat-error>
                </mat-form-field>
            </div>
            <div fxFlex="50%">
                <mat-form-field appearance="outline" fxFlex="100%">
                    <mat-label>Base Score:</mat-label>
                    <input matInput type="number" formControlName="baseScore">
                    <mat-error *ngIf="hasError('baseScore')">Input a positive integer or score ending with .5</mat-error>
                </mat-form-field>
            </div>
        </div>

        <br>
        <div class="row" fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="10px">
            <div fxFlex="50%">
                <mat-form-field appearance="outline" fxFlex="100%">
                    <mat-label>Assessment: </mat-label>
                    <mat-select formControlName="assessment">
                        <mat-option value="" disabled selected>Select Assessment Type</mat-option>
                        <mat-option value="WA1">WA1</mat-option>
                        <mat-option value="WA2">WA2</mat-option>
                        <mat-option value="WA3">WA3</mat-option>
                        <mat-option value="EOY Exam">EOY Exam</mat-option>
                        <mat-option value="Graded Assignment">Graded assignment</mat-option>
                        <mat-option value="Graded Project">Graded project</mat-option>
                        <mat-option value="Tutor's Assessment">Tutor's Assessment</mat-option>
                    </mat-select>
                    <mat-error *ngIf="hasError('assessment')">Please select assessment type</mat-error>
                </mat-form-field>
            </div>
            <div fxFlex="50%">
                <mat-form-field appearance="outline" fxFlex="100%">
                    <mat-label>Format: </mat-label>
                    <textarea matInput matTextareaAutosize cols="80" rows="2" formControlName="format"
                        placeholder="Format of assessment / Topics Tested">
                    </textarea>
                </mat-form-field>
            </div>
        </div>

        <div class="button-container">
            <button mat-raised-button color="accent" type="button" [routerLink]="['/analyse-grades', studentId]">Back
                </button> &nbsp;
            <button mat-raised-button color="primary" type="submit" [disabled]="gradeForm.invalid">Submit</button>
        </div>

    </form>
</div>